<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!--Chart js-->

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datasource@0.1.0"></script>

    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

    <script src="http://d3js.org/d3.v3.min.js"></script>

    <!-- Fontawesome -->

    <script src="https://kit.fontawesome.com/043883177b.js" crossorigin="anonymous"></script>
    <title>Chart Visualizer - Bar Charts</title>
</head>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Chart Visualizer</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="/">Visualize Charts</a>
                </li>
            </ul>

        </div>
    </div>
</nav>

<body class="bg-dark">

    <!-- main form for selecting things-->

    <div class="container my-4">
        <!-- form -->

        <div class="col px-3">
            <!-- Search bar -->

            <form action="/" method='POST' class="d-flex">
                <select class="form-select" aria-label="Default select example" name="charts">
                        <option selected>Home Page</option>
                        <option value="Bar">Bar Chart</option>
                        <option value="Pie">Pie Chart</option>
                    </select>
                <button class="btn btn-outline-success mx-2" id="searchstate' type=" submit ">View</button>

            </form>

        </div>
    </div>
    
    <div></div>
    
    <!-- Bar Chart Visualizer -->
    <div class='heading my-2'>
                <h5 style=" text-align:center;font-size:2rem;color:white;font-weight:bold ">Pie Charts</h5>
              
    </div>
    
    <div class=" container my-4 ">
        <div class="row">
               

            <!-- Chart1 -->

            <div class = "col">

                <div class="col-md-8">
                    <div class=" chart-container my-3 ">
                        <label for=" banana "
                            style=" text-align:center;font-size:1.3rem;color:white;font-weight: bold; ">Pie Chart 1</label>
                        <canvas height="500" width="500" id="chart"></canvas>
                    </div>
                                
                </div>

                <!-- Chart2 -->

                <div class="col-md-8">
                    <div class=" chart-container my-3 ">
                        <label for=" banana "
                            style=" text-align:center;font-size:1.3rem;font-weight: bold;color:white; ">Pie Chart 2</label>
                        <canvas height=" 300 " width=" 300 " id="chartnew"></canvas>
                    </div>

                </div>

            </div>

            <div class = "col">

            
                <!-- Chart 3 -->
                <div class=" col-md-8">
                    <div class=" chart-container my-3 ">
                        <label for=" banana "
                            style=" text-align:center;font-size:1.3rem;font-weight: bold;color:white; ">Pie Chart 3</label>
                        <canvas height=" 300 " width=" 300 " id="chartnew1"></canvas>
                    </div>

                </div>
                                
                <!-- Chart 4 -->
                
                <div class=" col-md-8">

                    <div class=" chart-container my-3 ">
                        <label for=" banana "
                            style=" text-align:center;font-size:1.3rem;font-weight: bold;color:white; ">Pie Chart 4</label>
                        <canvas height=" 300 " width=" 300 " id="chartnew2"></canvas>
                    </div>
                                

                </div>
      

            </div>

        </div>

        

                          
    </div>

    {%block script%}

     <script type="text/javascript">
        

        window.onload = ()=>{
            console.log("Hello World")
            var barchartdata = {{piechartdata|safe}};

            console.log(barchartdata[5])
             
            // Chart 1
            var ctx = document.getElementById('chart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: barchartdata[1],
                        datasets: [{
                            label: "Barchart~1",
                            data: barchartdata[1],
                            backgroundColor: [
                                            'rgb(255, 99, 132)',
                                            'rgb(75, 192, 192)',
                                            'rgb(255, 205, 86)',
                                            'rgb(201, 203, 207)',
                                            'rgb(54, 162, 235)',
                                            'rgba(153, 102, 255)',
                                            'rgba(255, 159, 64)',
                                            'rgba(250, 157, 60)'
                                          ],
                            
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(250, 157, 60, 0.1)'
                            ],
                            borderWidth: 2.5
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            x: {
                                   fontColor: "white"
                                },
                            y: {
                                    fontColor:"white"
                                },
                    },
                    }
                })


            // Chart 2

             var ctx = document.getElementById('chartnew').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: barchartdata[2],
                        datasets: [{
                            label: "Barchart~2",
                            data: barchartdata[2],
                            backgroundColor: [
                                'rgb(255, 99, 132)',
                                            'rgb(75, 192, 192)',
                                            'rgb(255, 205, 86)',
                                            'rgb(201, 203, 207)',
                                            'rgb(54, 162, 235)',
                                            'rgba(153, 102, 255)',
                                            'rgba(255, 159, 64)',
                                            'rgba(250, 157, 60)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(250, 157, 60, 0.1)'
                            ],
                            borderWidth: 2.5
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            x: {
                                   fontColor: "white"
                                },
                            y: {
                                    fontColor:"white"
                                },
                    },
                    }
                })
            

            // Chart 3

              var ctx = document.getElementById('chartnew1').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: barchartdata[3],
                        datasets: [{
                            label: "Barchart~3",
                            data: barchartdata[3],
                            backgroundColor: [
                                'rgb(255, 99, 132)',
                                            'rgb(75, 192, 192)',
                                            'rgb(255, 205, 86)',
                                            'rgb(201, 203, 207)',
                                            'rgb(54, 162, 235)',
                                            'rgba(153, 102, 255)',
                                            'rgba(255, 159, 64)',
                                            'rgba(250, 157, 60)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(250, 157, 60, 0.1)'
                            ],
                            borderWidth: 2.5
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            x: {
                                   fontColor: "white"
                                },
                            y: {
                                    fontColor:"white"
                                },
                    },
                    }
                })

            // Chart 4

             var ctx = document.getElementById('chartnew2').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: barchartdata[4],
                        datasets: [{
                            label: "Barchart~4",
                            data: barchartdata[4],
                            backgroundColor: [
                                'rgb(255, 99, 132)',
                                            'rgb(75, 192, 192)',
                                            'rgb(255, 205, 86)',
                                            'rgb(201, 203, 207)',
                                            'rgb(54, 162, 235)',
                                            'rgba(153, 102, 255)',
                                            'rgba(255, 159, 64)',
                                            'rgba(250, 157, 60)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(250, 157, 60, 0.1)'
                            ],
                            borderWidth: 2.5
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            x: {
                                   fontColor: "white"
                                },
                            y: {
                                    fontColor:"white"
                                },
                    },
                    }
                })

        


                
        }



     </script>


    {%endblock%}

            <!-- Optional JavaScript; choose one of the two! -->

            <!-- Option 1: Bootstrap Bundle with Popper -->
            <script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js "
                integrity=" sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p "
                crossorigin=" anonymous "></script>

            <!-- Option 2: Separate Popper and Bootstrap JS -->
            <!--
    <script src=" https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js " integrity=" sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB " crossorigin=" anonymous "></script>
    <script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js " integrity=" sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13 " crossorigin=" anonymous "></script>
    -->
    </body>

</html>